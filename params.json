{"name":"literalify","tagline":"literally replacing require calls with arbitrary code","body":"# Synopsis\r\n\r\n**literalify** is a [browserify](https://github.com/substack/node-browserify) transform for replacing require calls with arbitrary code, e.g. to pretend browser globals are actually CommonJS modules.\r\n\r\nThis library uses [browserify-transform-tools](https://github.com/benbria/browserify-transform-tools), so you can also supply the configuration by adding a `literalify` field to your project's `package.json` file.\r\n\r\n[![license - MIT](https://img.shields.io/npm/l/literalify.svg)](http://pluma.mit-license.org) [![Dependencies](https://img.shields.io/david/pluma/literalify.svg)](https://david-dm.org/pluma/literalify)\r\n\r\n[![NPM status](https://nodei.co/npm/literalify.png?compact=true)](https://npmjs.org/package/literalify)\r\n\r\n[![Build Status](https://img.shields.io/travis/pluma/literalify.svg)](https://travis-ci.org/pluma/literalify) [![Coverage Status](https://img.shields.io/coveralls/pluma/literalify.svg)](https://coveralls.io/r/pluma/literalify?branch=master)\r\n\r\n# Rationale\r\n\r\nIf you only want to convert globals-polluting libraries into CommonJS modules, [moduleify](https://github.com/pluma/moduleify) would be sufficient. But in some cases you still want these libraries to be loaded via script-tags or have to use an existing non-browserified bundle.\r\n\r\nIn these cases the recommended approach seems to be to create shim modules for each browser global you want to use. But compared to just using `window.myLibrary` the overhead of creating a new shim module seems a bit extreme.\r\n\r\nWith `literalify` you don't have to choose: you can use `require` to load your legacy libraries *without* having to pollute your filesystem with those pesky shims.\r\n\r\n# Use Case: AngularJS\r\n\r\nIn the 1.2 release AngularJS has begun to move some core features into separate files. If you want to use AngularJS with browserify `require` calls that means you now have the option of either bundling AngularJS with all the extensions you want to use before browserify is applied or to wrap each extension in a separate module and make sure to load all of them explicitly in your start script. In either case you need to run the AngularJS files through browserify in order to be able to `require` them.\r\n\r\nWith `literalify` you can keep the AngularJS files out of browserify and let it simply replace all calls of `require(\"angular\")` with references to `window.angular` without having to make manual changes to your code or AngularJS.\r\n\r\n# Install\r\n\r\n## Node.js\r\n\r\n### With NPM\r\n\r\n```sh\r\nnpm install literalify\r\n```\r\n\r\n### From source\r\n\r\n```sh\r\ngit clone https://github.com/pluma/literalify.git\r\ncd literalify\r\nnpm install\r\nmake test\r\n```\r\n\r\n# Basic usage example\r\n\r\n## example/vendor/some-dependency.js\r\n\r\n```javascript\r\nwindow.$ = {\r\n  makeAwesome: function(str) {\r\n    return str.toUpperCase();\r\n  }\r\n};\r\n```\r\n\r\n## example/app.js\r\n\r\n```javascript\r\nvar makeAwesome = require('some-dependency').makeAwesome;\r\nconsole.log(makeAwesome('needs more caps'));\r\n```\r\n\r\n## example/index.html\r\n```html\r\n<!doctype html>\r\n<html>\r\n<head>\r\n<meta charset=\"utf-8\">\r\n<title>Look at the console!</title>\r\n</head>\r\n<body>\r\n<script src=\"vendor/some-dependency.js\"></script>\r\n<script src=\"bundle.js\"></script>\r\n</body>\r\n</html>\r\n```\r\n\r\n## Usage\r\n\r\n```javascript\r\nvar browserify = require('browserify'),\r\n    literalify = require('literalify'),\r\n    b = browserify();\r\n\r\nb.transform(literalify.configure({\r\n    'some-dependency': 'window.$'\r\n}));\r\nb.add('./app.js');\r\nb.bundle().pipe(require('fs').createWriteStream('bundle.js'));\r\n```\r\n\r\n# Usage example with package.json\r\n\r\n## package.json\r\n\r\n```json\r\n{\r\n    \"name\": \"my-awesome-project\",\r\n    \"devDependencies\": {\r\n        \"browserify\": \"*\",\r\n        \"literalify\": \"*\"\r\n    },\r\n    \"literalify\": {\"some-dependency\": \"window.$\"}\r\n}\r\n```\r\n\r\n### Usage (API)\r\n\r\n```javascript\r\nvar browserify = require('browserify'),\r\n    literalify = require('literalify'),\r\n    b = browserify();\r\n\r\nb.transform(literalify);\r\nb.add('./app.js');\r\nb.bundle().pipe(require('fs').createWriteStream('bundle.js'));\r\n```\r\n\r\n### Usage (Shell)\r\n\r\n```sh\r\nbrowserify -t literalify ./app.js > bundle.js\r\n```\r\n\r\n# API\r\n\r\n## literalify.configure(rules):transform\r\n\r\nCreates a browserify transform that will replace the given require calls with the given JavaScript expressions.\r\n\r\n# License\r\n\r\nThe MIT/Expat license. For more information, see http://pluma.mit-license.org/ or the accompanying [LICENSE](https://github.com/pluma/counting/blob/master/LICENSE) file.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}